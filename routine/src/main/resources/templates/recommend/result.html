<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Ïö¥Îèô Ï∂îÏ≤ú Í≤∞Í≥º</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        
        <!-- ÏóêÎü¨ Î©îÏãúÏßÄ -->
        <div th:if="${error}" class="alert alert-danger" role="alert">
            <strong>Ïò§Î•ò!</strong> <span th:text="${error}"></span>
        </div>
        
        <!-- Ï†ïÏÉÅ Í≤∞Í≥º -->
        <div th:if="${error == null}">
            
            <!-- ÏúÑÏπò Ï†ïÎ≥¥ -->
            <div class="row mb-4">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header text-center">
                            <h3>üìç ÌòÑÏû¨ ÏúÑÏπò</h3>
                        </div>
                        <div class="card-body text-center">
                            <h5 th:text="${location.locationName}">ÌòÑÏû¨ ÏúÑÏπò</h5>
                            <p class="text-muted" th:text="${location.address}">Ï£ºÏÜå Ï†ïÎ≥¥</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ÎÇ†Ïî® Ï†ïÎ≥¥ -->
            <div class="row mb-4">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header text-center">
                            <h3>üå§Ô∏è ÎÇ†Ïî® Ï†ïÎ≥¥</h3>
                        </div>
                        <div class="card-body">
                            <div class="row text-center">
                                <div class="col-md-3">
                                    <div class="mb-3">
                                        <h5>Ïò®ÎèÑ</h5>
                                        <span class="badge bg-info fs-6" th:text="${weather.temperature} + '¬∞C'">25¬∞C</span>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="mb-3">
                                        <h5>ÏäµÎèÑ</h5>
                                        <span class="badge bg-success fs-6" th:text="${weather.humidity} + '%'">60%</span>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="mb-3">
                                        <h5>Í∞ïÏàòÌôïÎ•†</h5>
                                        <span class="badge bg-warning fs-6" th:text="${weather.rainProbability} + '%'">30%</span>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="mb-3">
                                        <h5>ÎØ∏ÏÑ∏Î®ºÏßÄ</h5>
                                        <span class="badge fs-6" 
                                              th:classappend="${weather.airGrade == 'Ï¢ãÏùå'} ? 'bg-success' : 
                                                             (${weather.airGrade == 'Î≥¥ÌÜµ'} ? 'bg-warning' : 'bg-danger')"
                                              th:text="${weather.pm10} + ' (' + ${weather.airGrade} + ')'">45 (Î≥¥ÌÜµ)</span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center">
                                <span class="badge bg-primary fs-6" th:text="${weather.weatherCondition}">ÎßëÏùå</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Ï∂îÏ≤ú Ïö¥Îèô -->
            <div class="row mb-4">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header text-center">
                            <h3>üí™ Ï∂îÏ≤ú Ïö¥Îèô</h3>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div th:each="recommend : ${recommendations}" class="col-md-6 col-lg-4 mb-3">
                                    <div class="card h-100">
                                        <div class="card-body text-center">
                                            <h5 class="card-title" th:text="${recommend.exerciseType}">Ïö¥Îèô Ï¢ÖÎ•ò</h5>
                                            <span class="badge"
                                                  th:classappend="${recommend.locationType == 'OUTDOOR'} ? 'bg-success' : 'bg-info'"
                                                  th:text="${recommend.locationType == 'OUTDOOR'} ? 'Ïã§Ïô∏' : 'Ïã§ÎÇ¥'">Ïã§Ïô∏</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-12 text-center">
                    <a href="/routine/recommend" class="btn btn-primary btn-lg">
                        Îã§Ïãú Ï∂îÏ≤úÎ∞õÍ∏∞
                    </a>
                    <a href="/routine/test" class="btn btn-secondary btn-lg ms-2">
                        ÌÖåÏä§Ìä∏ Ìï¥Î≥¥Í∏∞
                    </a>
                </div>
            </div>
            
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>